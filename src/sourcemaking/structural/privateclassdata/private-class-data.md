# [译文]私有数据对象模式

> 原文网址：[Private Class Data Design Pattern](https://sourcemaking.com/design_patterns/private_class_data)

## 意图
- 控制类属性的写访问
- 将数据和使用它的方法分开
- 封装类对象的初始化过程
- 提供新型的 `final` —— 在构造之后不可变

## 问题
一个类可能将它的属性（类变量）暴露给它的操作（方法），即使是这种操作不再必要，如构造之后。使用私有数据对象模式可以避免这种不良的操作。

一个类可能有一次性的不可变的属性，但它不能定义为 `final` 类型。这种情况可以使用该设计模式完成一次性设定。

这个设计模式的设计动机来自于通过缩小属性（数据）的可见性来保护类状态的设计目标。

## 讨论
私有数据对象模式旨在通过限制属性的可见性来减少其暴露。

它将属性封装进单独的数据对象从而减少了类属性的数量。它允许类的设计者移除那些只允许在构造器中设置的属性的特殊的写操作，甚至是在目标类的方法中。

## 结构
私有数据对象模式通过在目标类中提取一个数据类解决了上述问题，并且在目标类的实例中包含了一个数据类的引用。

![](https://sourcemaking.com/files/v2/content/patterns/Private_Data_class1.png)


## 核查清单（也可以理解为应用步骤）
1. 创建数据类。将所有需要隐藏的属性都移入数据类中
2. 在主类中创建一个数据类的引用
3. 主类必须通过数据类的构造函数来初始化数据类
4. 通过 `getter` 方法将数据类中的属性对外暴露
5. 通过 `setter` 方法暴露以后可能需要修改的属性